#LyX 2.1 created this file. For more info see http://www.lyx.org/
\lyxformat 474
\begin_document
\begin_header
\textclass abntex2
\begin_preamble
% PACOTES
% ---
% ---
% Pacotes fundamentais 
% ---
\usepackage{lmodern}		% Usa a fonte Latin Modern
\usepackage[T1]{fontenc}		% Selecao de codigos de fonte.
%\usepackage[utf8]{inputenc}	% Codificacao do documento (conversão automática dos acentos)
\usepackage{indentfirst}		% Indenta o primeiro parágrafo de cada seção.
\usepackage{nomencl} 		% Lista de simbolos
\usepackage{color}		% Controle das cores
\usepackage{graphicx}		% Inclusão de gráficos
\usepackage{microtype} 		% para melhorias de justificação
\usepackage{titling}
%\usepackage{fancyhdr}
% ---

% ---
% Pacotes adicionais, usados apenas no âmbito do Modelo Canônico do abnteX2
% ---
\usepackage{lipsum}		% para geração de dummy text
% ---

% ---
% Pacotes de citações
% ---
\usepackage[brazilian,hyperpageref]{backref}	 % Paginas com as citações na bibl
%\usepackage[alf]{abntex2cite}	% Citações padrão ABNT
% ---
% ---
% Configurações do pacote backref
% Usado sem a opção hyperpageref de backref
\renewcommand{\backrefpagesname}{Citado na(s) página(s):~}
% Texto padrão antes do número das páginas
\renewcommand{\backref}{}
% Define os textos da citação
\renewcommand*{\backrefalt}[4]{
\ifcase #1 %
Nenhuma citação no texto.%
\or
Citado na página #2.%
\else
Citado #1 vezes nas páginas #2.%
\fi}%
% ---
% ---
% Informações de dados para CAPA e FOLHA DE ROSTO
\pretitle{%
  \begin{center}
  \LARGE
  \vspace{-2cm}
  \hspace{-14cm}
     \includegraphics[scale=0.12]{Figuras/simbGovAM1} \\ 
 \vspace{-2cm}
 {\small{} Universidade do Estado do Amazonas \\
  Escola Superior de Tecnologia \\
  Engenharia de Controle e Automação \\ 
  \vspace{-2.5mm}
  Manaus - Amazonas - 2015} \\ %
\vspace{2cm}
}
\posttitle{\end{center}}
%\centering
% ---
\titulo{\bfseries      DESENVOLVIMENTO DE UM SISTEMA DE MONITORAMENTO E IMPLEMENTAÇÃO DE UM PROTÓTIPO PARA INTERFACEAMENTO COM O BARRAMENTO CAN NO LABORATÓRIO DE AUTOMAÇÃO INDUSTRIAL DA EST
%\\ Título e Subtítulo, Fonte Times New Roman 14, Negrito, Centralizado, Espaço Simples
}
\autor{Stefany Gouvêa Vanzeler \thanks{Universidade do Estado do Amazonas - UEA, Aluna do Curso de Eng. de Controle e Automação, Manaus, Amazonas, Brasil. E-mail: \url{stenety@hotmail.com}} \\ Angilberto Muniz Ferreira Sobrinho \thanks{Universidade do Estado do Amazonas - UEA, Departamento de Engenharia  Elétrica, Mestre. E-mail: \url{angilberto@yahoo.com}} %\\ Nome do professor da disciplina\thanks{Universidade aaaa de aaaaa, Departamento de xxxxx  xxxxx, Titulação. E-mail: \url{professor@uea.edu.com}}}
% ---
}
\preauthor{\begin{flushleft}
\large \lineskip 1mm%
\begin{tabular}[t]{l}}
\postauthor{\end{tabular}\par\end{flushleft}}
%\renewcommand{\thefootnote}{\fnsymbol{asterisk}}
% ---
% Configurações de aparência do PDF final

% alterando o aspecto da cor azul
\definecolor{blue}{RGB}{41,5,195}

% informações do PDF
\makeatletter
\hypersetup{
     	%pagebackref=true,
pdftitle={\@title}, 
pdfauthor={\@author},
    	pdfsubject={Modelo de artigo científico com abnTeX2},
pdfcreator={LaTeX with abnTeX2},
pdfkeywords={abnt}{latex}{abntex}{abntex2}{atigo científico}, 
colorlinks=true,       	% false: boxed links; true: colored links
    	linkcolor=blue,          	% color of internal links
    	citecolor=blue,        		% color of links to bibliography
    	filecolor=magenta,      		% color of file links
urlcolor=blue,
bookmarksdepth=4
}
\makeatother
% ---
% Altera as margens padrões
% ---
\setlrmarginsandblock{3cm}{2cm}{*}
\setulmarginsandblock{2cm}{2cm}{*}
\checkandfixthelayout
% --- 
% Espaçamentos entre linhas e parágrafos 
% --- 
% O tamanho do parágrafo é dado por:
\setlength{\parindent}{1.3cm}
% Controle do espaçamento entre um parágrafo e outro:
\setlength{\parskip}{0.2cm}  % tente também \onelineskip
% Espaçamento simples
\SingleSpacing
% ----
% Início do documento
\end_preamble
\options article
\use_default_options false
\maintain_unincluded_children false
\language brazilian
\language_package default
\inputencoding utf8
\fontencoding global
\font_roman default
\font_sans default
\font_typewriter default
\font_math auto
\font_default_family default
\use_non_tex_fonts false
\font_sc false
\font_osf false
\font_sf_scale 100
\font_tt_scale 100
\graphics default
\default_output_format default
\output_sync 0
\bibtex_command default
\index_command default
\paperfontsize default
\spacing single
\use_hyperref false
\papersize default
\use_geometry false
\use_package amsmath 1
\use_package amssymb 1
\use_package cancel 1
\use_package esint 1
\use_package mathdots 1
\use_package mathtools 1
\use_package mhchem 1
\use_package stackrel 1
\use_package stmaryrd 1
\use_package undertilde 1
\cite_engine basic
\cite_engine_type default
\biblio_style plain
\use_bibtopic false
\use_indices false
\paperorientation portrait
\suppress_date true
\justification true
\use_refstyle 1
\index Index
\shortcut idx
\color #008000
\end_index
\secnumdepth 3
\tocdepth 3
\paragraph_separation indent
\paragraph_indentation default
\quotes_language english
\papercolumns 1
\papersides 1
\paperpagestyle default
\tracking_changes false
\output_changes false
\html_math_output 0
\html_css_as_file 0
\html_be_strict false
\end_header

\begin_body

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout

%
\backslash
includegraphics[scale=0.15]{Figuras/simbGovAM} 
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout

%
\backslash
twocolumn[ % INICIO DE ARTIGO EM DUAS COLUNAS 
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
maketitle
\end_layout

\end_inset


\end_layout

\begin_layout Resumo
\noindent
O presente artigo apresenta o desenvolvimento parcial de um sistema de monitoram
ento de barramento CAN, aonde possa-se observar o fluxo de dados entre as
 ECUs (unidades eletrônicas de controle) e se transmitir mensagens, por
 meio da implementação de uma 
\shape italic
gateway
\shape default
 entre os protocolos TCP/IP e CAN em um sistema linux embarcado com arquitetura
 ARM de baixo custo e um computador pessoal com sistema operacional Windows,
 utilizando-se as linguagens C e C# a partir do conceito de 
\shape italic
sockets
\shape default
, servindo como modelo para integração futura de dispositivos de campo com
 uma rede DeviceNet no laboratório de automação industrial da EST.
 Para tanto foi feita uma comparação entre os minicomputadores Raspberry
 PI B+ e Beaglebone Black, optando-se pelo segundo, um modelo de rede CAN
 com três ECUs (incluindo Beaglebone Black, Arduino e CLP DeviceNet) foi
 construído, cenários de testes foram definidos e a comunicação CAN entre
 as ECUs foi inicialmente estabelecida.
\end_layout

\begin_layout Resumo
\begin_inset VSpace defskip
\end_inset


\end_layout

\begin_layout Resumo
\noindent

\series bold
Palavras-chaves
\series default
: 
\shape italic
Controller Area Network
\shape default
.
 TCP/IP.
 
\shape italic
Gateway
\shape default
.
 Sistema de Monitoramento.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout

%] % FIM DE ARTIGO EM DUAS COLUNAS
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textual % ELEMENTOS TEXTUAIS
\end_layout

\end_inset


\end_layout

\begin_layout Chapter*
Introdução
\end_layout

\begin_layout Standard
As rede industriais surgiram com a necessidade da integração dos equipamentos
 e dispositivos em todos os níveis de automação.
 Elas vem sendo cada vez mais utilizadas devido ao desenvolvimento da informátic
a e a constante redução dos custos de componentes microcontrolados, o que
 possibilitou o desenvolvimento dos sistemas com comunicação serial em larga
 escala aplicados às redes de comunicação e ao desenvolvimento de vários
 protocolos de comunicação digital.
 
\end_layout

\begin_layout Standard
Elas apresentam como grande vantagem a redução significativa de cabos de
 controle e seus acessórios que interligam os diversos dispositivos presentes
 em um sistema automatizado para transmitir informações, proporcionando
 assim aumento da eficiência, qualidade e segurança no sistema produtivo,
 além de maior facilidade na instalação, manutenção e configuração dos equipamen
tos.
 
\end_layout

\begin_layout Standard
O barramento 
\shape italic
Controller Area Network
\shape default
 (CAN) é um sistema de barramento serial projetado para facilitar a comunicação
 entre dispositivos, como sensores e atuadores, que diretamente interagem
 com o processo.
 Ele foi desenvolvido pela empresa alemã Robert BOSCH e disponibilizado
 em meados dos anos 80 baseado na ISO 11898, voltado inicialmente para a
 indústria automobilística.
 Em decorrência das suas características, normalização e baixo custo de
 produção, tornou-se amplamente utilizado na indústria.
\end_layout

\begin_layout Standard
Este artigo apresenta o desenvolvimento parcial de um sistema de monitoramento
 de barramento CAN, aonde possa-se observar o fluxo de dados entre as ECUs
 (unidades eletrônicas de controle) e se transmitir mensagens, por meio
 da implementação de uma 
\shape italic
gateway
\shape default
 entre os protocolos TCP/IP e CAN em um sistema linux embarcado com arquitetura
 ARM de baixo custo e um computador pessoal com sistema operacional Windows,
 utilizando-se as linguagens C e C# a partir do conceito de 
\shape italic
sockets
\shape default
, servindo como modelo para integração futura de dispositivos de campo com
 uma rede DeviceNet, podendo também ser combinado futuramente com outros
 protocolos existentes no laboratório de automação da UEA.
 
\end_layout

\begin_layout Section
Barramento CAN
\end_layout

\begin_layout Standard
O CAN consiste basicamente de um padrão de hardware com diferentes tipos
 de 
\shape italic
frames
\shape default
, regras de decisão para a transmissão de mensagens e métodos para detecção
 e correção de erros.
 Existem três principais tipos de redes CAN em uso, conforme Tabela 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:Redes-CAN"

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float table
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Redes CAN
\begin_inset CommandInset label
LatexCommand label
name "tab:Redes-CAN"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="7" columns="4">
<features rotate="0" tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Nomenclatura
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Padrão
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Taxa Máxima
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Identificador
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
CAN baixa velocidade
\end_layout

\end_inset
</cell>
<cell multirow="3" alignment="center" valignment="middle" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
ISO 11898-3
\end_layout

\end_inset
</cell>
<cell multirow="3" alignment="center" valignment="middle" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
125kps
\end_layout

\end_inset
</cell>
<cell multirow="3" alignment="center" valignment="middle" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
11 bits
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Versão 2.0A Alta velocidade 
\end_layout

\end_inset
</cell>
<cell multirow="3" alignment="center" valignment="middle" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
ISO 11898-2
\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1 Mbps
\end_layout

\end_inset
</cell>
<cell multirow="3" alignment="center" valignment="middle" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
11 bits
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
(formato padrão) 
\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
CAN FD > 1 Mbps
\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Versão 2.0B Alta velocidade 
\end_layout

\end_inset
</cell>
<cell multirow="3" alignment="center" valignment="middle" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
ISO 11898-2
\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1 Mbps
\end_layout

\end_inset
</cell>
<cell multirow="3" alignment="center" valignment="middle" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
29 bits
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
 (formato estendido)
\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
CAN FD > 1 Mbps
\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
Fonte: Autora
\end_layout

\end_inset


\end_layout

\begin_layout Standard
CAN com taxa de transmissão variável (
\shape italic
Flexible Data-Rate
\shape default
, CAN FD) aumenta a taxa efetiva de dados, permitindo campos de dados mais
 longos - até 64 bytes por 
\shape italic
frame
\shape default
 - sem alterar a camada física.
\end_layout

\begin_layout Subsection
A arquitetura CAN
\end_layout

\begin_layout Standard
A arquitetura de rede CAN define duas camadas das sete do modelo OSI, a
 camada de enlace e a camada física conforme Tabela 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:Arquitetura-CAN"

\end_inset

.
\end_layout

\begin_layout Standard
Utilizando o protocolo CAN, a ligação entre o nível físico (nível 1 OSI)
 e o de aplicação (nível 7 OSI) é feita utilizando vários protocolos emergentes
 ou através de software desenvolvido pelo usuário.
 O exemplo de um protocolo, baseado em CAN, padrão industrial ao nível de
 aplicação é o DeviceNet, o qual é utilizado para ligar em rede controladores
 lógicos programáveis e sensores inteligentes.
\end_layout

\begin_layout Standard
\begin_inset Float table
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Arquitetura CAN
\begin_inset CommandInset label
LatexCommand label
name "tab:Arquitetura-CAN"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="10" columns="9">
<features rotate="0" tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Modelo OSI
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Padrão ISO
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Implementação
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
7
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Aplicação
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
CAN Kingdom, NMEA 2000, 
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
:
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
DeviceNet, ISO 11783
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Microcontrolador
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
:
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
CANOpen, SAE J1939, 
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
:
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
DIN 9684, TTCAN, SDS
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
2
\end_layout

\end_inset
</cell>
<cell multirow="3" alignment="center" valignment="middle" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Enlace
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="3" alignment="center" valignment="middle" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
ISO 11988-1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Controlador
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Controlador
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="3" alignment="center" valignment="middle" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1
\end_layout

\end_inset
</cell>
<cell multirow="3" alignment="center" valignment="middle" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Fisica
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
CAN
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
CAN FD
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
ISO 11898-2
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Transceptor CAN
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
ISO 11988-3
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Meio de transmissão 
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
CIA-DS102
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="center" valignment="top" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Conectores
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
Fonte: Autora
\end_layout

\end_inset


\end_layout

\begin_layout Standard
CIA-DS 102 (
\shape italic
Can in Automation
\shape default
): CiA DS-102 recomenda apenas o uso de conectores muito específicos (SUB-D9),
 bem como a descrição da pinagem do conectores.
\end_layout

\begin_layout Subsection
Camada Física
\end_layout

\begin_layout Standard
No padrão internacional ISO a camada física é definida como segue:
\end_layout

\begin_layout Itemize
Meio de transmissão: normalmente um par de fios trançados para rejeição
 a ruído, um do CAN
\shape italic
 high
\shape default
 e outro do CAN 
\shape italic
low
\shape default
, formando uma diferença de potencial e com uma impedância de 120 Ohms se
 a rede for de alta velocidade.
 
\end_layout

\begin_layout Itemize
Topologia de barramento: topologia linear ou uma topologia física em estrela
 com resistores na extremidade de cada barramento.
\end_layout

\begin_layout Itemize
Número máximo de participantes (quantidade de nós): o comprimento máximo
 do barramento depende da taxa de transmissão dados.
 O número de nós que podem existir numa única rede é, teoricamente, ilimitado.
 No entanto, o número de identificadores e a capacidade dos transceptores
 existentes impõem restrições.
 
\end_layout

\begin_layout Itemize
Codificação de bit: NRZ (
\shape italic
Non Return to Zero
\shape default
), onde cada bit (0 ou 1) é transmitido por um valor de tensão específico
 e constante, diferenciando nível dominante (nível lógico zero) e recessivo
 (nível lógico um) com um mecanismo de fiação AND.
 
\end_layout

\begin_layout Itemize
Sincronização dos bits: pós-sincronização contínua do fluxo de bits transmitidos
 utilizando transições.
 
\end_layout

\begin_layout Itemize
Taxa de dados: para assegurar uma segura sincronização de bits o intervalo
 de tempo de bit tem que ser maior do que o dobro do máximo atraso do grupo.
 
\end_layout

\begin_layout Subsection
Camada de Enlace
\end_layout

\begin_layout Standard
A principal tarefa da camada de enlace é transmitir e receber dados da rede.
 Assim todos os dados devem ser agrupados em unidades transportáveis (mensagens)
, o acesso ao barramento deve ser definido entre os múltiplos participantes
 prontos para enviar as mensagens, e a transmissão dos dados deve utilizar
 mecanismos de detecção e correção de erro.
\end_layout

\begin_layout Standard
CAN transmite mensagens usando
\shape italic
 frames
\shape default
, existindo quatro tipos: 
\end_layout

\begin_layout Enumerate

\shape italic
Frame
\shape default
 de Dados: é transmitida de um transmissor para receptores.
 
\end_layout

\begin_layout Enumerate

\shape italic
Frame
\shape default
 Remota (RTR): um nó pode solicitar uma 
\shape italic
frame
\shape default
 de dados com o mesmo identificador.
 
\end_layout

\begin_layout Enumerate

\shape italic
Frame
\shape default
 de Erro: é transmitida por qualquer nó quando ele detecta um erro no barramento.
 
\end_layout

\begin_layout Enumerate

\shape italic
Frame
\shape default
 de Sobrecarga (
\shape italic
overload
\shape default
): é usada para dar atraso extra para 
\shape italic
frame
\shape default
 de dados ou remota e a 
\shape italic
frame
\shape default
 posterior.
\end_layout

\begin_layout Standard
A frame de dados no formato padrão e no formato estendido possuem a mesma
 estrutura, se diferenciando apenas nos campos de arbitragem e de controle
 conforme Figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Frame-de-dados"

\end_inset

.
 
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Frame de dados versão padrão e estendida
\begin_inset CommandInset label
LatexCommand label
name "fig:Frame-de-dados"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Formato de mensagens CAN (data frames)  22.jpg
	scale 75

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
Fonte: Autora
\end_layout

\end_inset


\end_layout

\begin_layout Standard
A 
\shape italic
frame
\shape default
 remota é idêntica a 
\shape italic
frame
\shape default
 de dados, com exceção da inexistência do campo de dados.
 
\end_layout

\begin_layout Standard
Os significados destes campos são: 
\end_layout

\begin_layout Description
SOF – O bit dominante 
\shape italic
Start of Frame
\shape default
 marca o início de uma mensagem e é usado para sincronizar todos os nós.
 Ele marca uma mudança de estado lógico do barramento de 1 para 0.
\end_layout

\begin_layout Description
Identificador – O identificador no formato padrão possui 11 bits e no estendido
 29 bits e estabelece a prioridade da mensagem em vez de definir o endereço
 do receptor.
 
\end_layout

\begin_layout Description
RTR – O bit 
\shape italic
Remote Transmission Request
\shape default
 (requisição de transmissão remota) é dominante nas 
\shape italic
frame 
\shape default
de dados e recessivo nas 
\shape italic
frames
\shape default
 remotas.
 
\end_layout

\begin_layout Description
IDE – O bit 
\shape italic
Extended Identifier
\shape default
 (identificador de extensão) dominante significa que o identificador no
 formato padrão está sendo transmitido (apenas 11 bits).
 Um bit recessivo indica que há mais 18 bits após o IDE no campo do identificado
r estendido, caracterizando o formado estendido de 
\shape italic
frame
\shape default
.
 
\end_layout

\begin_layout Description
r, 
\series bold
r
\size scriptsize
0 
\size default
e r
\size scriptsize
1
\series default
\size default
 – Bits reservados, em estado dominante.
\end_layout

\begin_layout Description
DLC – Estes 4 bits (
\shape italic
Data Length Code
\shape default
) informam quantos bytes de dados compõem o campo de dados da 
\shape italic
frame
\shape default
, que podem ser no máximo 8 bytes.
 
\end_layout

\begin_layout Description
Campo 
\series bold
de dados
\series default
 – o campo de dados suporta até 64 bits (8 bytes).
 
\end_layout

\begin_layout Description
CRC – O 
\shape italic
Cyclic Redundacy Check
\shape default
 contém o 
\shape italic
checksum
\shape default
 para detecção de erros.
 
\end_layout

\begin_layout Description
Campo
\series bold
 de CRC
\series default
 – Contém o CRC mais um bit delimitador que é sempre recessivo, indicando
 o fim do CRC.
\end_layout

\begin_layout Description
ACK – Se o CRC calculado por um nó receptor for igual ao CRC recebido na
 
\shape italic
frame
\shape default
 de dados enviada por um nó transmissor, o bit 
\shape italic
Aknowledgement
\shape default
 muda seu valor lógico de 1 para 0 no barramento, indicando que a mensagem
 foi recebida sem erro por pelo menos um dos nós receptores.
\end_layout

\begin_layout Description
Campo 
\series bold
de ACK
\series default
 - Constituído pelo ACK mais um bit delimitador recessivo, o qual garante
 o tempo necessário para que todos os nós ouvintes da rede respondam com
 o bit ACK.
\end_layout

\begin_layout Description
EOF – 
\shape italic
End-of-Frame
\shape default
 são 7 bits recessivos indicando o final da 
\shape italic
frame
\shape default
.
 
\end_layout

\begin_layout Description
ITM 
\series bold
ou IFS
\series default
– Estes 3 bits 
\shape italic
Intermission 
\shape default
(intermissão)
\shape italic
 ou Inter Frame Space 
\shape default
(espaço entre frames) contém o tempo necessário para o controlador mover
 corretamente os dados recebidos para um 
\shape italic
buffer
\shape default
 de recepção de mensagem.
 
\end_layout

\begin_layout Description
SRR – O bit 
\shape italic
Substitute Remote Request
\shape default
 é transmitido em 
\shape italic
frames
\shape default
 no formato estendido na posição que o bit RTR ocupa em 
\shape italic
frames
\shape default
 no formato padrão e é recessivo.
\end_layout

\begin_layout Description
Bus 
\series bold
Idle 
\series default
– Representa o estado em que o barramento encontra-se livre para o envio
 de mensagens, possuindo valor lógico recessivo.
\end_layout

\begin_layout Standard
Os formatos de uma 
\shape italic
frame
\shape default
 de erro e de sobrecarga são iguais, diferindo porém significativamente
 das 
\shape italic
frames
\shape default
 de dados e remota.
 Elas são compostas por apenas duas partes: a 
\shape italic
flag
\shape default
 de erro/sobrecarga e o delimitador de erro/sobrecarga (8 bits recessivos)
 conforme o caso, como mostrado na Figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Frame-de-Erro"

\end_inset

.
 Tanto a 
\shape italic
flag
\shape default
 de erro quanto de sobrecarga podem ser divididas em duas partes, a 
\shape italic
flag
\shape default
 de erro/sobrecarga primária (6 bits dominates) e a 
\shape italic
flag
\shape default
 de erro/sobrecarga secundária (0-6 bits dominantes), devido a sobreposição
 das 
\shape italic
flags
\shape default
 de erro/sobrecarga dos vários nós receptores do barramento.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout

\shape italic
Frame
\shape default
 de Erro e de Sobrecarga
\begin_inset CommandInset label
LatexCommand label
name "fig:Frame-de-Erro"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Framde de erro e sobrecarga3.jpg
	scale 80

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
Fonte: Autora
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Para que haja uma comunicação entre os nós, sendo cada nó uma ECU, é necessário
 que cada um deles seja munido dos seguintes componentes: unidade de controle,
 controlador CAN e transceptor CAN.
\end_layout

\begin_layout Standard
Quanto menor o identificador da mensagem maior a sua prioridade.
 Esse mecanismo é utilizado para controlar o acesso ao barramento, o qual
 ocorre localmente de acordo com o método CSMA/CA with NDA (
\shape italic
Carrier Sense Multiple Access / Collision Detection with Non-Destructive
 Arbitration
\shape default
).
 Isto significa que todos os módulos (nós) verificam o estado do barramento,
 analisando se outro módulo está ou não enviando mensagens com maior prioridade.
 Caso isto seja percebido, o módulo cuja mensagem tiver menor prioridade
 cessará sua transmissão e o de maior prioridade continuará enviando sua
 mensagem deste ponto, sem ter que reiniciá-la.
 Isto é feito comparando-se o valor lógico presente no barramento com o
 valor enviado por cada unidade.
\end_layout

\begin_layout Section
TCP/IP (
\shape italic
Transmission Control Protocol / Internet Protocol
\shape default
)
\end_layout

\begin_layout Standard
O TCP/IP (Protocolo de Controle de Transmissão/Protocolo Internet) foi desenvolv
ido em 1969 pelo U.S.
 
\shape italic
Departament of Defense Advanced Research Projects Agency
\shape default
, como um recurso para um projeto experimental chamado de ARPANET (
\shape italic
Advanced Research Project Agency Network
\shape default
) para preencher a necessidade de comunicação entre uma grande quantidade
 de sistemas de computadores e várias organizações militares dispersas.
 O objetivo do projeto era disponibilizar 
\shape italic
links
\shape default
 de comunicação com altas velocidades utilizando redes de comutação de pacotes.
\end_layout

\begin_layout Standard
O TCP/IP não é apenas um protocolo, mas uma suíte ou grupo de protocolos
 que se tornou padrão na indústria por oferecer comunicação em ambientes
 heterogêneos, tais como sistemas operacionais UNIX, Windows, MAC OS, minicomput
adores e até mainframes.
\end_layout

\begin_layout Standard
Hoje o TCP/IP se refere a uma suíte de protocolos utilizados na Internet,
 a rede das redes.
 Este conjunto padrão de protocolos especifica como computadores se comunicam
 e fornece as convenções para a conexão e rota no tráfego da Internet por
 meio de conexões estabelecidas por roteadores.
\end_layout

\begin_layout Standard
Os protocolos TCP/IP são organizados em quatro camadas: camada de Interface
 de rede , Internet, Transporte e Aplicação.
 
\end_layout

\begin_layout Standard
O termo 
\shape italic
host
\shape default
 é utilizado para se referir a qualquer parte de hardware que pode ser endereçad
a.
 Isto inclui estações de trabalho e servidores, como também roteadores.
 
\shape italic
Hosts
\shape default
 são identificados pelo endereço físico de suas placas de rede (MAC 
\shape italic
address
\shape default
).
\end_layout

\begin_layout Subsection
Camada de Interface de Rede
\end_layout

\begin_layout Standard
A camada de interface de rede é a camada de mais baixo nível dentro do modelo.
 Ela é responsável por colocar e retirar 
\shape italic
frames
\shape default
 no meio físico.
\end_layout

\begin_layout Standard
Ethernet é um padrão de rede que compõem a suíte TCP/IP e que define as
 camadas física e de enlace do modelo OSI, conforme Tabela 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:Arquitetura-Ethernet"

\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float table
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Arquitetura Ethernet
\begin_inset CommandInset label
LatexCommand label
name "tab:Arquitetura-Ethernet"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="5" columns="8">
<features rotate="0" tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Modelo OSI
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Padrão Ethernet
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Implementação
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="3" alignment="center" valignment="middle" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
2
\end_layout

\end_inset
</cell>
<cell multirow="3" alignment="center" valignment="middle" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Enlace
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Controle do Link Lógico (LLC)
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
IEEE 802.2
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Controle de Acesso ao Meio (MAC)
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
IEEE 802.3
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="3" alignment="center" valignment="middle" topline="true" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1
\end_layout

\end_inset
</cell>
<cell multirow="3" alignment="center" valignment="middle" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Física
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Meio de transmissão e
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
10Base2, 10BaseT, 10Base5, 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
conectores
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
100BaseT4, 100BaseTX
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
Fonte: Autora
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Uma ethernet de rede de área local (LAN) é essencialmente uma de rede de
 difusão (
\shape italic
broadcasting
\shape default
 ou
\shape italic
 musticasting
\shape default
 com o uso de 
\shape italic
switchs
\shape default
) com lógica de barramento; embora na implementação física possa utilizar
 
\shape italic
hubs
\shape default
 ou 
\shape italic
switchs
\shape default
 (topologia física de estrela ).
\end_layout

\begin_layout Standard
O mecanismo utilizado para controlar o acesso ao meio padronizado pela IEEE
 802.3 é o CSMA/CD (
\shape italic
Carrier Sense Multiple Access with Collision Detection
\shape default
) por meio da codificação Maschester.
 Assim quando mais de uma estacão está pronta para emitir mensagens com
 o meio livre, elas emitem os respectivos 
\shape italic
frames
\shape default
, os quais acabam colidindo.
 A primeira estacão que detectar a colisão interrompe imediatamente sua
 transmissão, reiniciando o processo de transmissão depois de um período
 de tempo, de forma a tornar improvável que uma nova colisão aconteça.
\end_layout

\begin_layout Standard
O endereço de ethernet (MAC 
\shape italic
address
\shape default
) é gravado no adaptador de ethernet (cartão de rede, roteador, etc) pelo
 fabricante, sendo fixo e não podendo ser mudado.
 É composto por 6 bytes representados normalmente na forma hexadecimal,
 sendo os 3 primeiros bytes usados para identificação do fabricante e os
 próximos 3 para o número sequencial da placa em questão, por exemplo: 00-C0-3D-
00-27-8B.
\end_layout

\begin_layout Subsection
Camada de Internet
\end_layout

\begin_layout Standard
A camada de Internet é responsável pelas funções de endereçamento, empacotamento
 e roteamento.
 São definidos três protocolos principais nesta camada: IP (
\shape italic
Internet Protocol
\shape default
), ARP (
\shape italic
Address Resolution Protocol
\shape default
) e o ICMP (
\shape italic
Internet Control Messsage Protocol
\shape default
).
\end_layout

\begin_layout Standard
O IP é responsável pelo endereçamento de informação dos 
\shape italic
host
\shape default
 de origem e destino e possível roteamento entre as respectivas redes, se
 diferentes.
 Este roteamento é executado através de endereços de IP, os quais são compostos
 de 4 octetos, que identificam logicamente origem e destino da informação,
 constituído por duas partes: identificador de rede ou net id (
\shape italic
network identification
\shape default
) e o identificador de nó ou 
\shape italic
host
\shape default
 id (
\shape italic
host identification
\shape default
).
 Este protocolo, usando a parte identificador de rede do endereço, normalmente
 designada pelos seus primeiros bytes, pode definir a melhor rota através
 de uma tabela de roteamento mantida e atualizada pelos roteadores.
\end_layout

\begin_layout Standard
O ARP é responsável por mapear um endereço IP para um endereço tipo MAC,
 através de uma tabela que associa a localização lógica de uma determinada
 máquina com a sua estrutura física de comunicação.
\end_layout

\begin_layout Standard
O ICMP é responsável por enviar mensagens e relatar erros relacionados a
 entrega de um pacote.
\end_layout

\begin_layout Subsection
Camada de Transporte 
\end_layout

\begin_layout Standard
O TCP é orientado à conexão, ou seja, estabelece um caminho negociado entre
 os 
\shape italic
hosts
\shape default
 de origem e destino antes de enviar os dados, possuindo mecanismos de confirmaç
ão de envio e recebimento de informações.
\end_layout

\begin_layout Standard
O protocolo fragmenta os dados da camada de aplicação por meio dos roteadores
 em segmentos e os transmite para a camada de internet.
 No 
\shape italic
host
\shape default
 destino, o protocolo TCP remonta os segmentos.
 O TCP cuida também do controle de fluxo, impedindo que um transmissor rápido
 sobrecarregue um receptor lento com um volume de mensagens muito grande.
\end_layout

\begin_layout Standard
Todas as conexões TCP são 
\shape italic
full-duplex
\shape default
 e ponto a ponto.
 
\shape italic
Full-duplex 
\shape default
quer dizer que o tráfego pode ser feito em ambas as direções ao mesmo tempo.
 Ponto a ponto quer dizer que cada conexão possui exatamente dois pontos
 terminais.
\end_layout

\begin_layout Standard
O serviço TCP é obtido quando tanto o transmissor quanto o receptor criam
 pontos terminais, denominados 
\shape italic
sockets
\shape default
.
 Cada 
\shape italic
socket
\shape default
 tem um endereço que consiste no endereço IP do 
\shape italic
host
\shape default
 mais um número de 16 bits local para esse 
\shape italic
host
\shape default
, chamado porta.
 Porta é o nome usado pelo TCP para um TSAP (
\shape italic
transport service acess point
\shape default
).
 Para que uma conexão funcione, é necessário que uma conexão seja explicitamente
 estabelecida entre uma 
\shape italic
socket
\shape default
 da máquina transmissora e uma 
\shape italic
socket
\shape default
 da máquina receptora.
\end_layout

\begin_layout Section
Interfaces para Programas de Aplicação (APIs)
\end_layout

\begin_layout Standard
Socket APIs (
\shape italic
Aplication Program Interfaces
\shape default
) são interfaces para programadores usando diretamente os serviços da camada
 de transporte.
 Seu objetivo é facilitar a implementação de programas de aplicação que
 fazem o uso de serviços de comunicação da rede.
 Socket APIs são usualmente oferecidas para alguns sistemas operacionais
 (por exemplo, Unix, Linux, Windows, etc) e em algumas linguagens (por exemplo,
 C, C++, C#, Java, etc).
\end_layout

\begin_layout Standard
Uma das APIs bem difundida é a Berkeley Socket, API em linguagem C com TCP
 em UNIX BSD (
\shape italic
UNIX Berkeley Software Distribution
\shape default
) e compatíveis.
 Os serviços são acessíveis por meio das chamadas de sistema (
\shape italic
system calls
\shape default
).
\end_layout

\begin_layout Section
Arquitetura do Sistema
\end_layout

\begin_layout Standard
Inicialmente foi feita uma revisão bibliográfica sobre barramento CAN e
 a suíte de protocolos TCP/IP, posteriormente foi realizada uma comparação
 como mostrado na Tabela 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:Raspeberry-PI-B+"

\end_inset

,entre as arquiteturas Raspberry PI B+ e BeagleboneBlack, optando-se pelo
 Beaglebone para o projeto, que apesar de ter um preço um pouco mais alto,
 apresenta maior velocidade de processamento, arquitetura ARM Cortex mais
 recente, maior número de GPIOs, maior facilidade de compra de acessórios,
 e já apresenta incorporado no SoC Sitara AM3358BZCZ100 o controlador CAN.
\end_layout

\begin_layout Standard
\begin_inset Float table
placement H
wide false
sideways false
status open

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Raspeberry PI B+ VS BeagleboneBlack
\begin_inset CommandInset label
LatexCommand label
name "tab:Raspeberry-PI-B+"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="14" columns="3">
<features rotate="0" tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Raspberry PI B+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
BeagleboneBlack
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Número de GPIOs
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
40 máximo
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
69 máximo
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Conexões
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
USART, SPI, I2C
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
CAN0, I2C, SPI, 4 Portas Seriais
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Processador
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Broadcom BCM2835, 700 MHz 
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Sitara AM3358BZCZ100, 1GHz
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Memória RAM
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
512MB, 400MHz
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
512MB DDR3L, 800MHZ
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Memória Flash
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Micro SD slot
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
4GB, 8bit Embedded MMC
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Portas USB 2.0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
4
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="3" alignment="center" valignment="middle" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Arquitetura ARM
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
ARM1176JZFS 
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Cortex A8 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
(ARMv6 
\shape italic
instruction set
\shape default
)
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
(ARMv7
\shape italic
 instruction set
\shape default
)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Preço
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
$32.65
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
$55.00 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Facilidade em compra
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
PICAN skpang: £32.28 Inc VAT; 
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
TT3201 CAN Cape; CAN Bus Cape 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
 de acessórios
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Adaptador Cooking 
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
BeagleBone Serial CAN RS485 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Hackers: €35.00
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
RS232 Cape: $43.00
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Ethernet
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
10/100Mbps RJ45
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
10/100Mbps RJ45
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
Fonte: Autora
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Assim adotou-se o 
\shape italic
BeagleBone Black rev C - Element14 Commercial Edition 
\shape default
combinado com o
\shape italic
 BeagleBone Serial CAN RS485 RS232 Cape 
\shape default
- formando o protótipo - para a implementação da 
\shape italic
gateway
\shape default
 entre os protocolos TCP/IP e CAN, como mostrado na Figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Arquitetura-do-Sistema"

\end_inset

, aonde duas outras ECUs, uma constituída por um Arduino UNO dotado de uma
 
\shape italic
shield
\shape default
 CAN com controlador e transceptor CAN e outra ECU formada por um CLP DeviceNet,
 formam juntos uma rede CAN de três nós.
 Esse protótipo tem a função de fazer o interfaceamento das ECUs existentes
 na rede com o sistema de monitoramento de barramento CAN em um PC.
\end_layout

\begin_layout Standard
A CAN shield escolhida foi a da marca Apto, composta pelo controlador CAN
 MCP2515 com uma interface SPI e o tranceptor CAN MCP2551, dando ao Arduino
 a capacidade de comunicação em rede CAN.
 A Serial CAN Cape é dotada do mesmo transceptor que a 
\shape italic
shield
\shape default
 do Arduino e funciona também como interface serial RS485 e RS232, podendo
 ser utilizada futuramente com o protocolo Modbus.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Arquitetura do Sistema
\begin_inset CommandInset label
LatexCommand label
name "fig:Arquitetura-do-Sistema"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename modelo geral.jpg
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
Fonte: Autora
\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset

A implementação da 
\shape italic
gateway
\shape default
 é realizada em linguagem C, baseada nas 
\shape italic
sockets
\shape default
 CAN e TCP/IP implementadas no kernel do Linux e Windows e o sistema de
 monitoramento é implementado em C#, como mostrado na Figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Arquitetura-do-Sistema-de_MonitoramentoETC"

\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Arquitetura do Sistema de Monitoramento e do Protótipo
\begin_inset CommandInset label
LatexCommand label
name "fig:Arquitetura-do-Sistema-de_MonitoramentoETC"

\end_inset

 
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename modelo_kernel.jpg
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
Fonte: Autora
\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Section
Especificação de testes
\end_layout

\begin_layout Standard
O sistema desenvolvido deve permitir que o usuário envie mensagens para
 as outras ECUs existentes na rede, assim como receber e visualizar todas
 as mensagens transmitidas pelas demais.
 Dessa forma o sistema de monitoramento e o protótipo alternam entre os
 papéis de servidor e cliente, como mostrado nas Figuras 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Envio-de-Mensagens"

\end_inset

e 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Leitura-de-Mensagens"

\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Envio de Mensagens CAN
\begin_inset CommandInset label
LatexCommand label
name "fig:Envio-de-Mensagens"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename envio de mensagens CAN.jpg
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
Fonte: Autora
\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Leitura de Mensagens CAN 
\begin_inset CommandInset label
LatexCommand label
name "fig:Leitura-de-Mensagens"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename leituraMensagemCAN.jpg
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
Fonte: Autora
\end_layout

\end_inset


\end_layout

\begin_layout Section

\family sans
Resultados Obtidos
\end_layout

\begin_layout Standard
Foram definidas a arquitetura do sistema e as especificações de teste.
 A comunicação CAN entre as ECUs do Beaglebone Black e Arduino já está operante,
 baseada na biblioteca CAN Bus da Seeedstudio e das ferramentas CAN Utils
 baseadas na SocketCAN, que é um conjunto
\shape italic
 open source
\shape default
 de 
\shape italic
drivers
\shape default
 e 
\shape italic
stack
\shape default
 de rede contribuído pelo grupo de pesquisa da Volkswagenpara para o kernel
 do Linux, formalmente conhecido como 
\shape italic
Low Level CAN Framework 
\shape default
(LLCF).
\end_layout

\begin_layout Standard
Atualmente está sendo implementada a 
\shape italic
gateway
\shape default
 TCP/IP-CAN em C utilizando-se o conceito de 
\shape italic
sockets
\shape default
 em ambiente Linux embarcado.
 Posteriormente, esse processo será estendido ao ambiente Windows, utilizando-se
 o conceito de Winsock e será desenvolvida a Interface com o usuário em
 C#.
 Por último serão realizados testes conforme as especificações determinadas
 validando o sistema.
 
\end_layout

\begin_layout Standard
\begin_inset ERT
status collapsed

\begin_layout Plain Layout

% ---
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout

% Finaliza a parte no bookmark do PDF, para que se inicie o bookmark na
 raiz
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
bookmarksetup{startatroot}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status collapsed

\begin_layout Plain Layout

% Conclusão
\end_layout

\end_inset


\end_layout

\begin_layout Section*
Considerações finais
\end_layout

\begin_layout Standard
As redes industriais vêm cada vez mais sendo utilizadas para interligar
 os dispositivos nos vários níveis da pirâmide da automação, trazendo redução
 de custos, maior facilidade na manutenção e instalação de equipamentos
 assim como melhor eficiência no gerenciamento, tornando-se um importante
 pilar na automação.
\end_layout

\begin_layout Standard
Assim, segundo os resultados obtidos pode-se afirmar que é possível desenvolver
 e implementar um protótipo para barramento CAN assistido por um sistema
 de monitoramento em um computador pessoal, capaz de tratar adequadamente
 as mensagens do protocolo CAN, utilizando microcontroladores de baixo custo
 com a arquitetura ARM, e de se comunicar com um PC via protocolo TCP/IP,
 servindo como modelo para futura integração de dispositivos de campo com
 a rede DeviceNet, e como protótipo modelo de baixo custo para a gestão
 das redes industriais no laboratório de automação industrial da EST.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
postextual % ELEMENTOS PÓS-TEXTUAIS
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout

% --- % Título e resumo em língua estrangeira % ---
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout

% 
\backslash
twocolumn[ % INICIO DE ARTIGO EM DUAS COLUNAS
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
titulo{Canonical academic article model with 
\backslash
abnTeX}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
emptythanks
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
maketitle
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
renewcommand{
\backslash
resumoname}{Abstract}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{resumoumacoluna}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{otherlanguage*}{english}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
This article presents the partial results of the development of a CAN (Controlle
r Area Network) bus monitoring system, where we can observe the data flow
 between the ECUs (electronic control units) and transmit messages through
 the implementation of a gateway between TCP / IP and CAN protocols on a
 ARM Linux embedded system and a personal computer with Windows as operating
 system, using the C and C # languages based on the concept of sockets,
 serving as a model for the future integration of other field devices at
 a DeviceNet network.
 Despite of that a comparison was made between Raspberry PI B + and Beaglebone
 Black, where we chosed the second one for the gateway mplementation, a
 CAN network model with three ECUs (including Beaglebone Black, Arduino
 and the PLC DeviceNet) was built, test scenarios were defined and the CAN
 communication between the ECUs was initially established.
\end_layout

\begin_layout Standard
\noindent
\begin_inset VSpace defskip
\end_inset


\end_layout

\begin_layout Standard
\noindent

\series bold
Key-words
\series default
: Controller Area Network.
 TCP/IP.
 Gateway.
 Monitoring System.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{otherlanguage*}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{resumoumacoluna}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout

% ] % FIM DE ARTIGO EM DUAS COLUNAS
\end_layout

\end_inset


\end_layout

\end_body
\end_document
