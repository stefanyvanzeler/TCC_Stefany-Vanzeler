#LyX 2.1 created this file. For more info see http://www.lyx.org/
\lyxformat 474
\begin_document
\begin_header
\textclass abntex2
\begin_preamble
%\usepackage{tabela-simbolos}
\end_preamble
\options ruledheader, brazil
\use_default_options true
\maintain_unincluded_children false
\language brazilian
\language_package default
\inputencoding auto
\fontencoding global
\font_roman default
\font_sans default
\font_typewriter default
\font_math auto
\font_default_family default
\use_non_tex_fonts false
\font_sc false
\font_osf false
\font_sf_scale 100
\font_tt_scale 100
\graphics default
\default_output_format default
\output_sync 0
\bibtex_command default
\index_command default
\paperfontsize default
\spacing single
\use_hyperref false
\papersize default
\use_geometry false
\use_package amsmath 1
\use_package amssymb 1
\use_package cancel 1
\use_package esint 1
\use_package mathdots 1
\use_package mathtools 1
\use_package mhchem 1
\use_package stackrel 1
\use_package stmaryrd 1
\use_package undertilde 1
\cite_engine basic
\cite_engine_type default
\biblio_style plain
\use_bibtopic false
\use_indices false
\paperorientation portrait
\suppress_date false
\justification true
\use_refstyle 0
\index Índice
\shortcut idx
\color #008000
\end_index
\secnumdepth 3
\tocdepth 3
\paragraph_separation indent
\paragraph_indentation default
\quotes_language english
\papercolumns 1
\papersides 1
\paperpagestyle default
\tracking_changes false
\output_changes false
\html_math_output 0
\html_css_as_file 0
\html_be_strict false
\end_header

\begin_body

\begin_layout Chapter
MATERIAIS E MÉTODOS
\begin_inset CommandInset label
LatexCommand label
name "chap:MATERIAIS-E-MÉTODOS"

\end_inset


\end_layout

\begin_layout Standard
Neste capítulo serão abordados, de maneira detalhada, cada etapa da metodologia
 utilizada neste projeto, e quais foram os materiais utilizados em cada
 etapa.
 
\end_layout

\begin_layout Section
Modelo do Sistema
\end_layout

\begin_layout Subsection
Especificação dos Requerimentos do Sistema
\end_layout

\begin_layout Standard
Os requerimentos do sistema são o desdobramento dos objetivos do trabalho:
\end_layout

\begin_layout Itemize
A implementação do 
\shape italic
gateway
\shape default
 TCP/IP-CAN por meio do protótipo deve ser feita em uma plataforma com arquitetu
ra ARM de baixo custo;
\end_layout

\begin_layout Itemize
Caso a plataforma ARM escolhida venha desprovida de controlador e transceptor
 CAN, um adaptador CAN deverá ser construído ou comprado;
\end_layout

\begin_layout Itemize
O protótipo deve ser capaz de receber todas as mensagens CAN do barramento
 da rede e retransmiti-las via TCP/IP para um computador pessoal por uma
 conexão Ethernet;
\end_layout

\begin_layout Itemize
O protótipo deve ser capaz de receber comandos do sistema de monitoramento
 de barramento CAN desenvolvido em um computador pessoal e a partir desses
 comandos, transmitir e filtrar mensagens;
\end_layout

\begin_layout Itemize
O sistema de monitoramento funcionará como cliente e o protótipo como servidor
 da rede Ethernet TCP/IP.
\end_layout

\begin_layout Itemize
O sistema de monitoramento deve ser capaz de receber todos os dados do servidor
 e exibi-los ao usuário.
\end_layout

\begin_layout Itemize
O protótipo funcionará como uma ECU na rede CAN;
\end_layout

\begin_layout Itemize
Uma rede CAN deve ser montada para testes, com no mínimo duas ECUs, considerando
-se o protótipo;
\end_layout

\begin_layout Itemize
A integração e validação do sistema serão alcançadas com a inserção do protótipo
 na rede CAN montada e monitoramento em tempo real do barramento CAN com
 o sistema de monitoramento desenvolvido.
\end_layout

\begin_layout Subsection
Modelo de Hardware
\end_layout

\begin_layout Standard
Baseado nos requerimentos do sistema, o modelo de hardware do sistema foi
 projetado como na figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Modelo-de-Hardware"

\end_inset

, sendo constituído por uma unidade de software denominada 
\begin_inset Quotes eld
\end_inset

Monitoramento CAN BUS
\begin_inset Quotes erd
\end_inset

 - representando o sistema de monitoramento de barramento CAN - em um PC
 e o protótipo, formado por uma unidade de software (
\shape italic
gateway
\shape default
) e hardware constituída por uma plataforma com processador ARM e uma unidade
 de hardware adicional para fazer o interfaceamento com o barramento CAN.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Modelo de Hardware
\begin_inset CommandInset label
LatexCommand label
name "fig:Modelo-de-Hardware"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename modelo de hardware.jpg
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
Fonte: Autora
\end_layout

\end_inset


\end_layout

\begin_layout Subsection
Modelo de Software
\end_layout

\begin_layout Standard
\begin_inset Note Comment
status open

\begin_layout Plain Layout
https://en.wikipedia.org/wiki/Use_case#/media/File:Use_case_restaurant_model.svg
\end_layout

\begin_layout Plain Layout
/
\end_layout

\begin_layout Plain Layout
http://www.sparxsystems.com/resources/uml2_tutorial/uml2_usecasediagram.html
\end_layout

\end_inset

Baseado nos requerimentos do sistema, o diagrama de caso da figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Modelo-de-Software"

\end_inset

 ilustra a relação entre o usuário, o sistema de monitoramento de barramento
 CAN, o protótipo e outras ECUs conectadas à rede CAN de testes, além de
 representar os objetivos de cada um dentro do sistema, configurando-se
 assim como modelo de software para o sistema.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Modelo de Software
\begin_inset CommandInset label
LatexCommand label
name "fig:Modelo-de-Software"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename modelo de software.jpg
	scale 53

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
Fonte: Autora
\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Section
Arquitetura do Sistema
\end_layout

\begin_layout Subsection
Comparativo entre as Arquiteturas 
\shape italic
Raspberry Pi
\shape default
 e 
\shape italic
Beaglebone Black
\end_layout

\begin_layout Standard
Foi realizada uma comparação como mostrado na tabela 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:Raspeberry-PI-B+"

\end_inset

,entre as arquiteturas 
\shape italic
Raspberry PI B+
\shape default
 e 
\shape italic
Beaglebone Black
\shape default
.
 Ambos são computadores de baixo custo baseado em 
\shape italic
Linux
\shape default
 e na arquitetura ARM do tamanho de um cartão de crédito.
 O 
\shape italic
Raspberry PI B+
\shape default
 é desenvolvido pela fundação de caridade 
\shape italic
Raspberry Pi
\shape default
 no Reino Unido, cujo principal objetivo é promover o ensino em ciência
 da computação básica em escolas enquanto que o 
\shape italic
Beaglebone Black
\shape default
 é
\shape italic
 open hardware
\shape default
, sendo suportada por uma comunidade de desenvolvedores e produzido por
 terceiros, 
\begin_inset CommandInset citation
LatexCommand cite
key "RASPBERRY"

\end_inset

, 
\begin_inset CommandInset citation
LatexCommand cite
key "BeagleBone"

\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Note Comment
status open

\begin_layout Plain Layout
http://www.dummies.com/how-to/content/ram-rom-and-flash-memory.html
\end_layout

\begin_layout Plain Layout
/
\end_layout

\begin_layout Plain Layout
RAM: Stands for random access memory; refers to memory that the microprocessor
 can read from and write to.
 When you create something in memory, it’s done in RAM.
\end_layout

\begin_layout Plain Layout
RAM is memory and vice versa.
\end_layout

\begin_layout Plain Layout
ROM: Stands for read-only memory.
 The microprocessor can read from ROM, but it can’t write to it or modify
 it.
 ROM is permanent.
 Often, ROM chips contain special instructions for the computer — important
 stuff that never changes.
 The microprocessor can access information stored on a ROM chip whenever
 it needs to.
 The instructions are always there because they’re not erasable.
\end_layout

\begin_layout Plain Layout
Flash memory: A special type of memory that works like both RAM and ROM.
 You can write information to flash memory, like you can with RAM, but that
 information isn’t erased when the power is off, like it is with ROM.
\end_layout

\begin_layout Plain Layout
Sadly, flash memory isn’t as fast as RAM, so don’t expect it to replace
 standard computer memory any time soon.
\end_layout

\begin_layout Plain Layout
/
\end_layout

\begin_layout Plain Layout
http://makezine.com/2014/02/25/how-to-choose-the-right-platform-raspberry-pi-or-b
eaglebone-black/
\end_layout

\begin_layout Plain Layout
/
\end_layout

\begin_layout Plain Layout
http://www.cnx-software.com/2013/04/25/beaglebone-black-vs-raspberry-pi-features-a
nd-price-comparison/
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float table
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Raspeberry PI B+ VS Beaglebone Black
\begin_inset CommandInset label
LatexCommand label
name "tab:Raspeberry-PI-B+"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="15" columns="3">
<features rotate="0" tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Raspberry PI B+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Beaglebone Black
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Número de GPIOs
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
40 máximo
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
69 máximo
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Serial I/O
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
UART, SPI, I2C, USB
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
CAN, I2C, SPI, UART, USB
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Processador
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\shape italic
Broadcom BCM2835
\shape default
, 700 MHz 
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\shape italic
Sitara AM3358BZCZ100
\shape default
, 1GHz
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Memória SDRAM
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
512MB , 400MHz
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
512MB DDR3L, 800MHZ
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="3" alignment="center" valignment="middle" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Memória Flash
\end_layout

\end_inset
</cell>
<cell multirow="3" alignment="center" valignment="middle" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Micro SD slot
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
4GB, 8bit Embedded MMC /
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Micro SD slot
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Portas USB 2.0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
4
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="3" alignment="center" valignment="middle" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Gráfico
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
HDMI, 
\shape italic
Dual Core VideoCore IV®
\shape default
 
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
16b HDMI, 1280x1024 (MAX)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\shape italic
Multimedia Co-Processor
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
SGX530 3D
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="3" alignment="center" valignment="middle" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Arquitetura ARM
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
ARM1176JZFS 
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Cortex A8 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
(ARMv6 
\shape italic
instruction set
\shape default
)
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
(ARMv7
\shape italic
 instruction set
\shape default
)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Preço
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
$32.65 ( 14/10/2015, Amazon)
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
$55.00 ( 14/10/2015, Amazon)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Ethernet
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
10/100Mbps RJ45
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
10/100Mbps RJ45
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Tipo de Hardware
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\shape italic
Closed Hardware
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\shape italic
Open Hardware
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
Fonte: Autora
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Após comparação entre essas plataformas, optou-se pelo 
\shape italic
BeagleBone Black rev C - Element14 Commercial Edition
\shape default
 
\begin_inset CommandInset citation
LatexCommand cite
key "element14"

\end_inset

, para o para desenvolvimento do protótipo, figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Beaglebone-Black"

\end_inset

, que apesar de ter um preço um pouco mais alto, apresenta maior velocidade
 de processamento, arquitetura ARM Cortex mais recente, maior número de
 GPIOs, e já apresenta incorporado no SoC (
\shape italic
System on a chip
\shape default
) 
\shape italic
Sitara AM3358BZCZ100
\shape default
 o controlador CAN, figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Diagrama-de-Blocos"

\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Beaglebone Black
\begin_inset CommandInset label
LatexCommand label
name "fig:Beaglebone-Black"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename beaglebone black.jpg
	scale 80

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
Fonte: Autora
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Diagrama de Blocos do AM335x
\begin_inset CommandInset label
LatexCommand label
name "fig:Diagrama-de-Blocos"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename AM335x Functional Block Diagram.jpg

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
Fonte: http://www.ti.com/lit/ds/symlink/am3358.pdf
\end_layout

\end_inset


\end_layout

\begin_layout Standard
As tabelas 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:Adaptadores-Beagle"

\end_inset

 e 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:Adaptadores-Raspeberry"

\end_inset

 apresentam os principais adaptadores CAN para o 
\shape italic
Raspberry PI B+
\shape default
 e 
\shape italic
Beaglebone Black
\shape default
 atualmente existentes no mercado.
 Importante salientar que não foi encontrado nenhum fornecedor nacional.
\end_layout

\begin_layout Standard
\begin_inset Float table
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Adaptadores para Barramento CAN Beaglebone Black
\begin_inset CommandInset label
LatexCommand label
name "tab:Adaptadores-Beagle"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="11" columns="3">
<features rotate="0" tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Beaglebone Black
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Preço (05/11/2015)
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Referências
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
GNUBLIN 
\end_layout

\end_inset
</cell>
<cell multirow="3" alignment="center" valignment="middle" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
9,95 € + 19,95 €
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
http://shop.embedded-projects.net
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Module-CAN
\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
/embedded-projects-gmbh/gnublin-module-
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
gnubo-fr-beagle-bone.html
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
(Alemanha)
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="middle" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+ correio
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
http://shop.embedded-projects.net/
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
(só entrega na Europa)
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
embedded-projects-gmbh/gnublin-module-
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
can-3.3v-transceiver.html
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
TT3201 CAN Cape 
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
87,00 €
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
http://www.towertech.it/en/products/
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
(Itália)
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+ correio
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
hardware/tt3201-can-cape/
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
BeagleBone 
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
$54.90 
\end_layout

\end_inset
</cell>
<cell multirow="3" alignment="center" valignment="middle" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
http://www.logicsupply.com/cbb-serial/
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Serial Cape
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
(correio incluso)
\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
Fonte: Autora
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float table
placement H
wide false
sideways false
status open

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Adaptadores para Barramento CAN Raspberry PI B+
\begin_inset CommandInset label
LatexCommand label
name "tab:Adaptadores-Raspeberry"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="8" columns="3">
<features rotate="0" tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Raspberry PI B+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Preço (05/11/2015)
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Referências
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
PICAN skpang 
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
£32.28 Inc VAT
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
http://skpang.co.uk/catalog/pican-canbus-
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
(Reino Unido)
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
£26.90 Ex VAT
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
board-for-raspberry-pi-p-1196.html
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+ £8.25 (correio)
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Canberry V 2.1 
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
45€
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
http://www.industrialberry.com
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
(Itália)
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+ correio
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
/canberry-v-2-1-isolated/
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
CAN Bus Shield 
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
75.00 €
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
https://www.cooking-hacks.com
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
for Raspberry Pi
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+7.00 € (correio)
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
/can-bus-shield-for-raspberry-pi
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
Fonte: Autora
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Entre os adaptadores CAN para o 
\shape italic
Beaglebone Black
\shape default
, optou-se pelo 
\shape italic
BeagleBone Serial CAN RS485 RS232 Cape 
\begin_inset CommandInset citation
LatexCommand cite
key "Serialcape"

\end_inset

, 
\shape default
figura
\shape italic
 
\shape default

\begin_inset CommandInset ref
LatexCommand ref
reference "fig:BeagleBone-Serial-Cape"

\end_inset

,
\shape italic
 
\shape default
que apesar de mais caro que o 
\shape italic
GNUBLIN Module-CAN
\shape default
, permite simultaneamente o uso de até duas portas RS232 e interface para
 o barramento CAN ou a operação simultânea de uma porta RS232, uma interface
 RS485 e uma para o barramento CAN, enquanto que o 
\shape italic
GNUBLIN Module-CAN
\shape default
 garante interface apenas para o barramento CAN além de fazer entrega apenas
 na Europa, tendo em vista a futura expansão do protótipo para interfaceamento
 com outras redes no laboratório de automação da EST.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
BeagleBone Serial Cape
\begin_inset CommandInset label
LatexCommand label
name "fig:BeagleBone-Serial-Cape"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename cbb-serial-cape-beaglebone-black-pic2-min.jpg
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
Fonte: http://www.logicsupply.com/cbb-serial/
\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
O 
\shape italic
BeagleBone Serial Cape
\shape default
 é 
\shape italic
open hardware
\shape default
 e utiliza o transceptor galvânico isolado ISO1050DW 
\begin_inset CommandInset citation
LatexCommand cite
key "Transceiver"

\end_inset

, que atende às especificações da ISO11898-2, com conexões para uma fonte
 de 5V DC, GND, CAN HIGH e LOW.
 O resistor R4 garante mínimo carregamento exigido pelo conversor DC-DC
 MSLU102 
\begin_inset CommandInset citation
LatexCommand cite
key "MINMAX"

\end_inset

, figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Circuito-CAN-do"

\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Circuito CAN do 
\shape italic
BeagleBone Cape
\begin_inset CommandInset label
LatexCommand label
name "fig:Circuito-CAN-do"

\end_inset


\shape default
 
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename tranceiver iso1050dw.jpg
	scale 80

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
Fonte: https://github.com/lgxlogic/CBB-Serial
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Ele também possui uma memória EEPROM-I2CSMD para carregar o 
\shape italic
Beaglebone Black
\shape default
 com a configuração apropriada e um 
\shape italic
buffer
\shape default
, SN74AHC1G126, para a recepção de dados CAN .
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Buffer de Dados CAN
\begin_inset CommandInset label
LatexCommand label
name "fig:Buffer-de-Dados"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename canBuffer.jpg
	scale 60

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
Fonte: https://github.com/lgxlogic/CBB-Serial
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Note Comment
status open

\begin_layout Plain Layout
http://funduino.de/index.php/2-hardware-und-software/#hardware
\end_layout

\begin_layout Plain Layout
https://www.arduino.cc/en/Main/ArduinoBoardUno
\end_layout

\begin_layout Plain Layout
https://pt.wikipedia.org/wiki/Arduino
\end_layout

\end_inset


\end_layout

\begin_layout Subsection
Unidade Eletrônica de Controle Complementar
\end_layout

\begin_layout Standard
Para montagem da rede CAN de teste foi escolhido o 
\shape italic
Funduino UNO
\shape default
 como unidade microcontroladora, o qual é uma placa compatível com o Arduino
 UNO, devido a facilidade de operação e aquisição e grande quantidade e
 variedade de fontes de consulta.
 O Arduino UNO é uma plataforma de prototipagem eletrônica de hardware livre
 e de placa única criada na Itália, projetada com o microcontrolador ATmega328P
 com suporte de entrada/saída embutido, uma linguagem de programação típica
 com um ambiente de desenvolvimento, podendo ser também programado em C/C++,
 
\begin_inset CommandInset citation
LatexCommand cite
key "arduino"

\end_inset

.
 
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Funduino UNO
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename funduinoUNO.jpg
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
Fonte: http://www.arduino123.com/a/peijian/arduinokaifaban/2013/0729/26370.html
\end_layout

\end_inset


\end_layout

\begin_layout Standard
O 
\shape italic
Funduino UNO
\shape default
 não possui interface para o barramento CAN, assim foi necessário a compra
 de um adaptador CAN também.
 O adaptador escolhido para o 
\shape italic
Funduino UNO
\shape default
 foi o 
\shape italic
CAN BUS shield
\shape default
 da APTO, mostrado na figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Apto-CAN-Bus"

\end_inset

.
 
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Apto CAN Bus Shield
\begin_inset CommandInset label
LatexCommand label
name "fig:Apto-CAN-Bus"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename apto can bus shield.jpg
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
Fonte: http://www.amazon.de/Apto%C2%AE-CAN-BUS-Shield-f%C3%BCr-Arduino-Schwarz/dp/
B00XQ4HGH2
\end_layout

\end_inset


\end_layout

\begin_layout Standard
O 
\shape italic
CAN BUS shield
\shape default
 da Apto implementa o transceptor MCP 2551 e o controlador CAN MCP 2515,
 promovendo interface para o CAN versão 2.0 B velocidade alta, com taxa de
 transmissão de até 1Mb/s, interface SPI de até 10 MHz e dois 
\shape italic
buffers
\shape default
 para recepção de mensagens.
\end_layout

\begin_layout Subsection
Arquitetura de Hardware
\end_layout

\begin_layout Standard
A arquitetura de hardware é composta por uma rede Ethernet TCP/IP entre
 o protótipo e a unidade de monitoramento de barramento CAN, e uma rede
 CAN entre o protótipo e uma ECU formada pelo 
\shape italic
Funduino UNO
\shape default
 e a 
\shape italic
shield CAN
\shape default
 conectados à sensores e atuadores, criada para aplicação de testes e validação
 do sistema desenvolvido, como na figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Arquitetura-de-Hardware"

\end_inset

.
\end_layout

\begin_layout Standard
A rede CAN montada serve como uma rede modelo, aonde novas ECUs podem ser
 adicionadas, como o CLP 
\shape italic
DeviceNet
\shape default
 do laboratório de automação industrial da EST.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Arquitetura de Hardware
\begin_inset CommandInset label
LatexCommand label
name "fig:Arquitetura-de-Hardware"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename arquitetura de hardware.jpg
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
Fonte: Autora
\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Subsection
Arquitetura de Software
\end_layout

\begin_layout Standard
A arquitetura de software é subdividida em 4 módulos: 
\end_layout

\begin_layout Itemize
O módulo Monitoramento CAN BUS, um módulo cliente TCP/IP em C#, responsável
 por receber e transmitir dados do/para o módulo 
\shape italic
Socketcand
\shape default
*, com interface gráfica por meio da qual o usuário pode interagir com o
 barramento CAN;
\end_layout

\begin_layout Itemize
O módulo 
\shape italic
Socketcand*
\shape default
 em C que funciona como uma 
\shape italic
gateway
\shape default
 entre os protocolos TCP/IP e CAN, baseado no 
\shape italic
open source Socketcand
\shape default
, 
\begin_inset CommandInset citation
LatexCommand cite
key "socketcand"

\end_inset

;
\end_layout

\begin_layout Itemize
O módulo Teste em C que interpreta as mensagens CAN recebidas pelo protótipo
 da ECU do 
\shape italic
Funduino UNO
\shape default
 e que também é responsável pelo envio de mensagens CAN do protótipo para
 a ECU do 
\shape italic
Funduino UNO
\shape default
 de acordo com a lógica da rede CAN criada, baseado na biblioteca, 
\begin_inset CommandInset citation
LatexCommand cite
key "seeed"

\end_inset

;
\end_layout

\begin_layout Itemize
O módulo TesteStatus em C++ que faz a leitura dos sinais recebidos dos sensores
 e escrita dos sinais enviados aos atuadores pelo 
\shape italic
Funduino UNO
\shape default
 à ele conectados, de acordo com a lógica da rede CAN criada, além de codificar
 esses dados em menagens CAN e transmiti-los ao protótipo.
 Esse módulo também é responsável pela recepção e tratamento das mensagens
 CAN que chegam na ECU do 
\shape italic
Funduino UNO.
\end_layout

\begin_layout Standard
A figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Arquitetura-de-Software"

\end_inset

 mostra a arquitetura de software do sistema, assim como a comunicação entre
 desses módulos é realizada dentro da arquitetura de hardware.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Arquitetura de Software
\begin_inset CommandInset label
LatexCommand label
name "fig:Arquitetura-de-Software"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename arquitetura de software.jpg
	scale 60

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
Fonte: Autora
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Os módulos 
\shape italic
Socketcand*
\shape default
 e Teste são baseados na 
\shape italic
SocketCAN
\shape default
, que é um conjunto 
\shape italic
open source
\shape default
 de 
\shape italic
drivers
\shape default
 CAN e 
\shape italic
stack
\shape default
 de rede CAN contribuído pelo grupo de pesquisa 
\shape italic
Wolkswagen
\shape default
 ao 
\shape italic
kernel
\shape default
 do sistema operacional Linux, formalmente conhecido como LLCF (
\shape italic
Low Level CAN Framework
\shape default
), 
\begin_inset CommandInset citation
LatexCommand cite
key "Elinux"

\end_inset

.
 
\end_layout

\begin_layout Standard
\begin_inset Note Comment
status open

\begin_layout Plain Layout
https://en.wikipedia.org/wiki/SocketCAN
\end_layout

\begin_layout Plain Layout
/
\end_layout

\begin_layout Plain Layout
https://pt.wikiversity.org/wiki/Introdu%C3%A7%C3%A3o_aos_Sistemas_Operacionais/Ger
%C3%AAncia_de_Dispositivos#Dispositivos_de_Caractere
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Tradicionalmente CAN 
\shape italic
drivers
\shape default
 para Linux são baseados no modelo de dispositivos de caracteres, isto é
 envia/recebe um fluxo de caracteres (bytes, octetos), sem considerar qualquer
 estrutura de blocos, não sendo endereçável e não dispondo de qualquer operação
 de posicionamento somente, assim permitindo normalmente somente o envio
 e recebimento de dados direto do controlador CAN e o acesso do dispositivo
 apenas por um processo de cada vez.
 Além disso, cada um desses 
\shape italic
drivers
\shape default
 apresentam uma interface diferente para a aplicação, dificultando a portabilida
de.
 O conceito de 
\shape italic
SocketCAN
\shape default
 por outro lado utiliza o modelo de dispositivos de rede, o que permite
 que múltiplas aplicações acessem um dispositivo CAN simultaneamente.
 Assim, uma única aplicação é capaz de acessar múltiplas redes CAN em paralelo,
 
\begin_inset CommandInset citation
LatexCommand cite
key "SocketCAN"

\end_inset

.
\end_layout

\begin_layout Standard
A 
\shape italic
SocketCAN
\shape default
 estende o conceito das 
\shape italic
Berkeley Socket APIs
\shape default
 no 
\shape italic
Linux
\shape default
, introduzindo uma nova família de protocolos, o PF_CAN, que coexiste com
 outras famílias de protocolo como o PF_INET para o protocolo de internet.
 Assim a comunicação com o barramento CAN é feita analogamente ao uso do
 protocolo de internet via 
\shape italic
sockets
\shape default
.
 Os componentes fundamentais da 
\shape italic
SocketCAN
\shape default
 são os 
\shape italic
drivers
\shape default
 dos dispositivos de rede para diferentes controladores CAN e a implementação
 da família de protocolos CAN (CAN stack).
\end_layout

\begin_layout Standard
Um 
\shape italic
driver
\shape default
 de dispositivo para hardware de controlador CAN se registra com a camada
 de rede do Linux como um dispositivo de rede, de forma que frames CAN do
 controlador possam ser passadas para a camada de rede e para o 
\shape italic
stack
\shape default
 CAN e vice-versa.
 Assim, o módulo de protocolo da família CAN provê uma API para os módulos
 de protocolo de transporte para se registrar, de maneira que qualquer protocolo
s de transporte podem ser carregados e descarregados dinamicamente.
 Uma aplicação desejando se comunicar utilizando um protocolo específico,
 por exemplo o ISO-TP, precisa somente selecionar esse protocolo quando
 abrindo a 
\shape italic
socket
\shape default
, 
\begin_inset CommandInset citation
LatexCommand cite
key "cantxt"

\end_inset

.
\end_layout

\begin_layout Standard
A 
\shape italic
SocketCAN
\shape default
 implementa dois protocolos CAN, o 
\shape italic
raw
\shape default
 e o 
\shape italic
broadcast manager
\shape default
 (BCM).
\end_layout

\begin_layout Standard
Após a conexão da 
\shape italic
socket raw
\shape default
, algumas configurações iniciais são preestabelecidas (
\shape italic
defaults
\shape default
), podendo ser previamente à conexão serem reconfiguradas:
\end_layout

\begin_layout Itemize
Os filtros são configurados para apenas um filtro recebendo todos as 
\shape italic
frames
\shape default
 de dados, com exceção das 
\shape italic
frames
\shape default
 de erro e das 
\shape italic
frames
\shape default
 pela mesma ECU enviados;
\end_layout

\begin_layout Standard
\begin_inset Note Comment
status open

\begin_layout Plain Layout
4.1.4 RAW socket option CAN_RAW_RECV_OWN_MSGS
\end_layout

\end_inset


\end_layout

\begin_layout Itemize
O 
\shape italic
loopback
\shape default
 das 
\shape italic
frames
\shape default
 enviados é habilitado;
\end_layout

\begin_layout Standard
\begin_inset Note Comment
status open

\begin_layout Plain Layout
open a socket
\end_layout

\begin_layout Plain Layout
bind the socket
\end_layout

\begin_layout Plain Layout
read(2) and write(2) from/to the socket
\end_layout

\begin_layout Plain Layout
send(2), sendto(2), sendmsg(2) and the recv*
\end_layout

\end_inset


\end_layout

\begin_layout Standard
O protocolo de gerenciamento de transmissão 
\shape italic
broadcast
\shape default
 (BCM) fornece uma interface de configuração baseada em comandos para filtrar
 e e enviar mensagens CAN no 
\shape italic
kernel
\shape default
 do Linux.
 Filtros podem ser usados para mostrar mensagens frequentes, detectar eventos,
 como mudança no conteúdo e tamanho das mensagens.
 Periódicas tarefas de transmissão de 
\shape italic
frames
\shape default
 CAN ou uma sequência de 
\shape italic
frames
\shape default
 podem ser criadas e modificadas no tempo de execução (
\shape italic
runtime
\shape default
); ambos os conteúdos de mensagem e o intervalo de transmissão podem ser
 alterados.
\end_layout

\begin_layout Standard

\shape italic
Socketcand*
\shape default
 faz uso do protocolo ISO-TP, que é a ISO 15765-2, padrão internacional
 para o envio de pacotes de dados CAN, cobrindo as camadas de rede e transporte
 do Modelo OSI.
 Um canal ISO-TP consiste de dois identificadores CAN exclusivos, um para
 transmitir dados e outro para receber dados.
\end_layout

\begin_layout Standard
A 
\shape italic
Socketcand*
\shape default
 funciona de acordo com a máquina de estados da figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Máquina-de-estados"

\end_inset

, possuindo cinco estados:
\end_layout

\begin_layout Itemize
Desconectado: o cliente não está conectado ao protótipo pela 
\shape italic
socketcand
\shape default
*;
\end_layout

\begin_layout Itemize
Conectado: o cliente está conectado ao protótipo pela 
\shape italic
Socketcand
\shape default
*;
\end_layout

\begin_layout Itemize
BCM: apresenta as funcionalidades do protocolo BCM da 
\shape italic
SocketCAN
\shape default
;
\end_layout

\begin_layout Itemize
RAW: apresenta as funcionalidades do protocolo RAW da 
\shape italic
SocketCAN
\shape default
;
\end_layout

\begin_layout Itemize
ISO-TP: permite a configuração do canal ISO-TP.
\end_layout

\begin_layout Standard
\begin_inset Note Comment
status open

\begin_layout Plain Layout
http://www.sparxsystems.com/resources/uml2_tutorial/uml2_statediagram.html
\end_layout

\begin_layout Plain Layout
http://stackoverflow.com/questions/24343629/if-condition-in-uml-state-machine-dia
gram
\end_layout

\begin_layout Plain Layout
https://social.msdn.microsoft.com/Forums/en-US/937bef3b-58cf-4280-b276-07b3fd83a526
/while-loop-in-state-machine?forum=sharepointcustomizationlegacy
\end_layout

\begin_layout Plain Layout
https://en.wikipedia.org/wiki/ISO_15765-2
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Máquina de estados 
\shape italic
Socketcand
\shape default
*
\begin_inset CommandInset label
LatexCommand label
name "fig:Máquina-de-estados"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename maquina de estados socketcand.jpg
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
Fonte: Autora
\end_layout

\end_inset


\end_layout

\begin_layout Section
Implementação 
\end_layout

\begin_layout Subsection
Ferramentas de Conexão Remota
\end_layout

\begin_layout Standard
O desenvolvimentos dos softwares embarcados foram desenvolvidos por meio
 de conexão remota entre o 
\shape italic
Beaglebone Black
\shape default
 e um computador pessoal, utilizando-se as ferramentas 
\shape italic
PuTTy
\shape default
, 
\shape italic
WinSCP
\shape default
, 
\shape italic
TightVNC
\shape default
 
\shape italic
Viewer
\shape default
 e 
\shape italic
Eclipse
\shape default
 
\shape italic
Luna
\shape default
.
 O IP do 
\shape italic
beaglebone black
\shape default
 por 
\shape italic
default
\shape default
 é o 192.168.7.2.
\end_layout

\begin_layout Standard

\shape italic
PuTTy
\shape default
 é um cliente SSH e 
\shape italic
telnet
\shape default
, desenvolvido por Simon Tathan para a plataforma 
\shape italic
Windows
\shape default
.
 Ele é 
\shape italic
open source
\shape default
 software, disponível com código fonte e desenvolvido por um grupo de voluntário
s, 
\begin_inset CommandInset citation
LatexCommand cite
key "PuTTY"

\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
PuTTy Interface
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Putty_gui.jpg
	scale 60

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
Fonte: Autora
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
PuTTy Terminal
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename putty_console.jpg
	scale 70

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
Fonte: Autora
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\shape italic
WinSCP
\shape default
 é uma aplicação de software livre.
 Ele é um cliente SFTP gráfico para 
\shape italic
Windows
\shape default
 que utiliza SSH.
 Sua principal função é facilitar a transferência segura de arquivos entre
 dois sistemas de computador, um local e remoto que oferece serviços de
 SSH, 
\begin_inset CommandInset citation
LatexCommand cite
key "WinSCP"

\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
WinSCP
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename WinSCP.jpg
	scale 60

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
Fonte: Autora
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Na fase de implementação dos softwares, os módulos desenvolvidos eram escritos
 em bloco de texto (
\shape italic
Notepad
\shape default
) no computador local, transferidos para o 
\shape italic
Beaglebone Black
\shape default
 via 
\shape italic
WinSCP
\shape default
, compilados com o GCC (
\shape italic
GNU compiler collection
\shape default
) e executados via terminal 
\shape italic
PuTTy 
\shape default
do 
\shape italic
Linux
\shape default
.
 
\end_layout

\begin_layout Standard
\begin_inset Note Comment
status open

\begin_layout Plain Layout
http://www.computerhope.com/unix/ucc.htm
\end_layout

\end_inset


\end_layout

\begin_layout Standard
O 
\shape italic
TightVNC Viewer
\shape default
 é um software de área de trabalho remota, o que permite o ambiente de um
 computador ser executado remotamente em um servidor e exibido em um dispositivo
 cliente separado, 
\begin_inset CommandInset citation
LatexCommand cite
key "TightVNC"

\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
TightVNC Viewer
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename TightVNC Viewer.jpg
	scale 60

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
Fonte: Autora
\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
O 
\shape italic
Eclipse
\shape default
 é uma plataforma 
\shape italic
cross-compiler
\shape default
, sendo possível criar executáveis para uma plataforma diferente da plataforma
 em que o compilador é executável.
 Assim ele foi utilizado para desenvolvimento e debug dos módulos de software
 e posterior transferência dos arquivos pela conexão remota SSH para o 
\shape italic
Beaglebone Black
\shape default
.
\end_layout

\begin_layout Standard
O 
\shape italic
Eclipse
\shape default
 
\shape italic
Luna
\shape default
 é a versão de junho de 2014 da plataforma 
\shape italic
Eclipse
\shape default
, sendo sucedida pela
\shape italic
 Mars
\shape default
 de junho de 2015.
 A conexão e implementação remota utilizando-se o 
\shape italic
Eclipse
\shape default
 
\shape italic
Luna
\shape default
 foi feita como explicado no tutorial em 
\begin_inset CommandInset citation
LatexCommand cite
key "eclipseremote"

\end_inset

, utilizando-se o compilador gcc-linaro-arm-linux-gnueabihf-4.9-2014.09_win32.zip,
 o 
\begin_inset Quotes eld
\end_inset

make.exe
\begin_inset Quotes erd
\end_inset

 e as bibliotecas "libiconv2.dll" e "libintl3.dll" contidas no make-3.81-bin.zip
 e make-3.81-dep.zip respectivamente do 
\shape italic
GnuWin
\shape default
 disponíveis em 
\begin_inset CommandInset citation
LatexCommand cite
key "Gnuwin"

\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Conexão Remota SSH Usando 
\shape italic
Eclipse
\shape default
 
\shape italic
Luna
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Eclipse Luna SSH.jpg
	scale 60

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
Fonte: Autora
\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Subsection
Configuração da Rede Ethernet TCP/IP 
\end_layout

\begin_layout Standard
\begin_inset Note Note
status open

\begin_layout Plain Layout
http://www.mathworks.com/help/supportpkg/beagleboard/ug/getting-the-beagleboard-ip
-address.html
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Note Comment
status open

\begin_layout Plain Layout
http://www.ofitselfso.com/Beagle/NetworkingSetupConnectingTheBeagleboneBlack.php
\end_layout

\end_inset


\end_layout

\begin_layout Standard
A conexão Ethernet TCP/IP entre o 
\shape italic
Beaglebone Black
\shape default
 e o computador pessoal pode ser feita pela porta usb0 que encapsula uma
 conexão Ethernet, com as seguintes configurações por 
\shape italic
default
\shape default
:
\end_layout

\begin_layout Itemize
IP estático 192.168.7.2 
\end_layout

\begin_layout Itemize

\shape italic
netmask
\shape default
 255.255.255.0 
\end_layout

\begin_layout Itemize

\shape italic
network
\shape default
 192.168.7.0 
\end_layout

\begin_layout Itemize

\shape italic
gateway
\shape default
 192.168.7.1 
\end_layout

\begin_layout Standard
Tal configuração pode ser visualizada com o comando 
\shape italic
cat /etc/network/interfaces
\shape default
 por meio de um terminal remoto.
 Dessa forma, quando acessamos o 
\shape italic
Beaglebone Black
\shape default
 por uma conexão remota SSH, o computador cliente recebe o IP 192.168.7.1.
 
\end_layout

\begin_layout Standard
Outra forma de conexão Ethernet entre o 
\shape italic
Beaglebone black
\shape default
 e um computador cliente é por meio de um cabo Ethernet, configurando-se
 o IP do computador local como estático e como interface aonde um servidor
 DHCP irá ouvir, para se atribuir um IP pré-definido ao 
\shape italic
Beaglebone black
\shape default
.
 Foram escolhidos arbitrariamente os IP 192.168.8.1 para o computador local
 e o IP 192.168.8.200 para o 
\shape italic
Beaglebone black
\shape default
.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Configuração do IPv4 do computador local
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename IPV4.jpg
	scale 65

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
Fonte: Autora
\end_layout

\end_inset


\end_layout

\begin_layout Standard
O 
\shape italic
Open DHCP Server
\shape default
 foi utilizado como servidor DHCP.
 Ele é um 
\shape italic
open source Freeware
\shape default
 para 
\shape italic
Windows
\shape default
 e 
\shape italic
Linux
\shape default
, 
\begin_inset CommandInset citation
LatexCommand cite
key "DHCP"

\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Servidor DHCP
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Open DHCP server.jpg
	scale 70

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
Fonte: Autora
\end_layout

\end_inset


\end_layout

\begin_layout Subsection
Configuração da Rede CAN
\end_layout

\begin_layout Standard
A 
\shape italic
SocketCAN
\shape default
 apresenta suporte para 
\shape italic
driver
\shape default
 CAN virtual, que pode ser manipulado no 
\shape italic
Linux
\shape default
 pelos comandos descritos abaixo em um terminal, 
\begin_inset CommandInset citation
LatexCommand cite
key "cantxt"

\end_inset

:
\end_layout

\begin_layout Itemize
modprobe vcan, para poder acessar a interface virtual CAN;
\end_layout

\begin_layout Itemize
ip link add type vcan, para criar uma interface CAN virtual de rede;
\end_layout

\begin_layout Itemize
ip link add dev vcan0 type vcan, para criar uma interface CAN virtual de
 rede com o nome 'vcan0';
\end_layout

\begin_layout Itemize
ip link set up vcan0, para ativar a interface 
\begin_inset Quotes eld
\end_inset

vcan0
\begin_inset Quotes erd
\end_inset

;
\end_layout

\begin_layout Itemize
ip link del vcan0, para remover a interface 
\begin_inset Quotes eld
\end_inset

vcan0
\begin_inset Quotes erd
\end_inset

 opcao 1;
\end_layout

\begin_layout Itemize
ip link set down vcan0, para parar a interface 
\begin_inset Quotes eld
\end_inset

vcan0
\begin_inset Quotes erd
\end_inset

 opcao 2.
\end_layout

\begin_layout Standard
Exemplo de sequência de comandos para a criação e carregamento do CAN virtual:
\end_layout

\begin_layout Enumerate
modprobe can;
\end_layout

\begin_layout Enumerate
modprobe can_raw;
\end_layout

\begin_layout Enumerate
modprobe vcan;
\end_layout

\begin_layout Enumerate
sudo ip link add dev vcan0 type vcan;
\end_layout

\begin_layout Enumerate
sudo ip link set up vcan0;
\end_layout

\begin_layout Enumerate
ip link show vcan0.
\end_layout

\begin_layout Standard
Para acessar o CAN, o 
\shape italic
Beablegone Black
\shape default
 precisa estar necessariamente conectado com um adaptador CAN, neste caso
 a 
\shape italic
Serial CAN Cape
\shape default
, e também precisa de uma fonte 5VDC de alimentação externa.
\end_layout

\begin_layout Standard
O dispositivo CAN deve ser configurado via interface 
\shape italic
netlink
\shape default
.
\end_layout

\begin_layout Standard
Exemplo de comando para criação e ativação de uma rede CAN com nome 'can0'
 e taxa de transmissão de dados igual a 500kb/s:
\end_layout

\begin_layout Itemize
ip link set can0 up type can bitrate 500000.
\end_layout

\begin_layout Standard
Para começar ou terminar uma rede CAN o comando abaixo é utilizado:
\end_layout

\begin_layout Itemize
ip link set canX up/down, com 
\begin_inset Quotes eld
\end_inset


\shape italic
up
\shape default

\begin_inset Quotes erd
\end_inset

 para começar e o 
\begin_inset Quotes eld
\end_inset


\shape italic
down
\shape default

\begin_inset Quotes erd
\end_inset

 para terminar.
 
\end_layout

\begin_layout Standard
Ainda um pacote de ferramentas 
\shape italic
open software
\shape default
, o 
\shape italic
Can-utils
\shape default
, 
\begin_inset CommandInset citation
LatexCommand cite
key "can-utils"

\end_inset

, pode ser utilizado, oferecendo alguns utilitários do espaço do usuário
 para o subsistema 
\shape italic
Linux
\shape default
 
\shape italic
SocketCAN
\shape default
, como geração de 
\shape italic
frames
\shape default
 e monitoramento no terminal.
\end_layout

\begin_layout Standard
Exemplos de alguns comandos do 
\shape italic
Can-utils
\shape default
:
\end_layout

\begin_layout Itemize
cangen can0/vcan0, para gerar 
\shape italic
frames
\shape default
 aleatoriamente na rede CAN ou com o CAN virtual;
\end_layout

\begin_layout Itemize
candump can0/vcan0; para monitorar a rede CAN ou o CAN virtual com o terminal.
\end_layout

\begin_layout Subsection
Montagem da Rede CAN e TCP/IP
\end_layout

\begin_layout Standard
Para validação e testes do sistema uma rede CAN entre o protótipo e a ECU
 do 
\shape italic
Funduino UNO
\shape default
 foi criada.
 Os atuadores e sensores da rede foram ligados ao 
\shape italic
Funduino UNO
\shape default
 de acordo com as tabelas 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:Atuadores-Rede-CAN"

\end_inset

 e 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:Sensores-Rede-CAN"

\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float table
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Atuadores Rede CAN
\begin_inset CommandInset label
LatexCommand label
name "tab:Atuadores-Rede-CAN"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="7" columns="6">
<features rotate="0" tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell multirow="3" alignment="center" valignment="middle" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Atuadores
\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Estado
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\shape italic
Funduino
\end_layout

\end_inset
</cell>
<cell multirow="3" alignment="center" valignment="middle" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Sigla
\end_layout

\end_inset
</cell>
<cell multirow="3" alignment="center" valignment="middle" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Imagem
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
OFF
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
ON
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Portas
\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Botão
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
4
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Bt
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Graphics
	filename botao.jpg
	scale 30

\end_inset


\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Led azul
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
8
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
LAzul
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Graphics
	filename ledblau.jpg
	scale 30

\end_inset


\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Led vermelho
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
2
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
LVerm
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Graphics
	filename ledrote.jpg
	scale 30

\end_inset


\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Led verde
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
3
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
LVerd
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Graphics
	filename ledgrun.jpg
	scale 30

\end_inset


\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Buzina
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
5
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Bz
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Graphics
	filename buzina.jpg
	scale 30

\end_inset


\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
Fonte: Autora
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float table
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Sensores Rede CAN
\begin_inset CommandInset label
LatexCommand label
name "tab:Sensores-Rede-CAN"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="5" columns="5">
<features rotate="0" tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell multirow="3" alignment="center" valignment="middle" topline="true" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Sensores
\end_layout

\end_inset
</cell>
<cell multirow="3" alignment="center" valignment="middle" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Grandeza
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\shape italic
Funduino
\end_layout

\end_inset
</cell>
<cell multirow="3" alignment="center" valignment="middle" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Sigla
\end_layout

\end_inset
</cell>
<cell multirow="3" alignment="center" valignment="middle" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Imagem
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Portas
\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Sensor ultrassônico HC-SR04
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
distância 
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
6, 7
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
d
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Graphics
	filename sensorUltrassonico.jpg
	scale 25
	BoundingBox 0bp 0bp 274bp 158bp
	clip

\end_inset


\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Fotocélula 1K Ohm 
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
luminosidade
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
A2
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
l
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Graphics
	filename sensorluminosidade.jpg
	scale 25
	BoundingBox 0bp 0bp 133bp 160bp
	clip

\end_inset


\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
TMP36
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
temperatura
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
A1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
t
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Graphics
	filename tmp36.jpg
	scale 25
	BoundingBox 0bp 0bp 60bp 204bp
	clip

\end_inset


\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
Fonte: Autora
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Em contraste com a rede Ethernet TCP / IP, a rede CAN possui um meio físico
 que funciona em regime 
\shape italic
broadcast
\shape default
, não apresentando nenhum endereçamento na camada MAC.
 O identificador CAN é utilizado para arbitração no barramento CAN.
 Assim quando se projeta uma rede CAN os identificadores devem ser mapeados
 para serem mandados para uma específica ECU, dessa forma o identificador
 pode ser visto como um tipo de fonte de endereçamento.
\end_layout

\begin_layout Standard
Para a rede CAN construída foram definidas duas mensagens CAN, cada uma
 com 4 bytes de dados, conforme a tabela 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:Mensagens-CAN"

\end_inset

.
 O 
\shape italic
Funduino UNO
\shape default
 adquire os sinais dos sensores e transporta essa informação na mensagem
 de identificador 0x01, por sua vez o protótipo recebe essa mensagem e responde
 à ECU do 
\shape italic
Funduino UNO
\shape default
 com a mensagens de identificador 0x02, passando novos parâmetros para o
 
\shape italic
Funduino UNO
\shape default
.
\end_layout

\begin_layout Standard
\begin_inset Float table
placement H
wide false
sideways false
status open

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Mensagens CAN
\begin_inset CommandInset label
LatexCommand label
name "tab:Mensagens-CAN"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="8" columns="7">
<features rotate="0" tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Transmissor
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Id
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
DLC
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1 Byte
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
2 Byte
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
3 Byte
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
4 Byte
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
ECU 
\shape italic
Funduino
\shape default
 
\end_layout

\end_inset
</cell>
<cell multirow="3" alignment="center" valignment="middle" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0x01
\end_layout

\end_inset
</cell>
<cell multirow="3" alignment="center" valignment="middle" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
4
\end_layout

\end_inset
</cell>
<cell multirow="3" alignment="center" valignment="middle" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Quotes eld
\end_inset

d
\begin_inset Quotes erd
\end_inset


\end_layout

\end_inset
</cell>
<cell multirow="3" alignment="center" valignment="middle" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
 
\begin_inset Quotes eld
\end_inset

t
\begin_inset Quotes erd
\end_inset


\end_layout

\end_inset
</cell>
<cell multirow="3" alignment="center" valignment="middle" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Quotes eld
\end_inset

l
\begin_inset Quotes erd
\end_inset


\end_layout

\end_inset
</cell>
<cell multirow="3" alignment="center" valignment="middle" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Quotes eld
\end_inset

Bt
\begin_inset Quotes erd
\end_inset


\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\shape italic
Uno
\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="3" alignment="center" valignment="middle" topline="true" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Protótipo
\end_layout

\end_inset
</cell>
<cell multirow="3" alignment="center" valignment="middle" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0x02
\end_layout

\end_inset
</cell>
<cell multirow="3" alignment="center" valignment="middle" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
4
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
se 
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
se 
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
se 
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
se 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Quotes eld
\end_inset

d
\begin_inset Quotes erd
\end_inset

 > 0x38,
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Quotes eld
\end_inset

t
\begin_inset Quotes erd
\end_inset

 > 0x2A,
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Quotes eld
\end_inset

l
\begin_inset Quotes erd
\end_inset

 > 0xD5,
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Quotes eld
\end_inset

Bt
\begin_inset Quotes erd
\end_inset

 = 1,
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Quotes eld
\end_inset

Bz
\begin_inset Quotes erd
\end_inset

 = 1,
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Quotes eld
\end_inset

LVerm
\begin_inset Quotes erd
\end_inset

 = 1,
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Quotes eld
\end_inset

LVerd
\begin_inset Quotes erd
\end_inset

 = 1,
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Quotes eld
\end_inset

LAzul
\begin_inset Quotes erd
\end_inset

 = 1,
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
senão 
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
senão 
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
senão
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
senão
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Quotes eld
\end_inset

Bz
\begin_inset Quotes erd
\end_inset

= 0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Quotes eld
\end_inset

LVerm
\begin_inset Quotes erd
\end_inset

= 0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Quotes eld
\end_inset

LVerd
\begin_inset Quotes erd
\end_inset

= 0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Quotes eld
\end_inset

LAzul
\begin_inset Quotes erd
\end_inset

 = 0
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
Fonte: Autora
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Note Comment
status open

\begin_layout Plain Layout
\begin_inset Float table
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Mensagens CAN
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="11" columns="7">
<features rotate="0" tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Transmissor
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Id
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
DLC
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1 Byte
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
2 Byte
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
3 Byte
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
4 Byte
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Funduino 
\end_layout

\end_inset
</cell>
<cell multirow="3" alignment="center" valignment="middle" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0x01
\end_layout

\end_inset
</cell>
<cell multirow="3" alignment="center" valignment="middle" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
4
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
distância 
\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
temperatura
\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
luminosidade 
\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
estado botao 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Uno
\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Quotes eld
\end_inset

d
\begin_inset Quotes erd
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
 
\begin_inset Quotes eld
\end_inset

t
\begin_inset Quotes erd
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Quotes eld
\end_inset

l
\begin_inset Quotes erd
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Quotes eld
\end_inset

b
\begin_inset Quotes erd
\end_inset


\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Funduino 
\end_layout

\end_inset
</cell>
<cell multirow="3" alignment="center" valignment="middle" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0x03
\end_layout

\end_inset
</cell>
<cell multirow="3" alignment="center" valignment="middle" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
4
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
estado 
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
estado 
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
estado 
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
estado 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Uno
\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
buzina 
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
led vermelho
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
led verde
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
led azul 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Beaglebone 
\end_layout

\end_inset
</cell>
<cell multirow="3" alignment="center" valignment="middle" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0x02
\end_layout

\end_inset
</cell>
<cell multirow="3" alignment="center" valignment="middle" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
4
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
se 
\begin_inset Quotes eld
\end_inset

d
\begin_inset Quotes erd
\end_inset

 > 0x38,
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
se 
\begin_inset Quotes eld
\end_inset

t
\begin_inset Quotes erd
\end_inset

 > 0x2A,
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
se 
\begin_inset Quotes eld
\end_inset

l
\begin_inset Quotes erd
\end_inset

 > 0xD5,
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
se 
\begin_inset Quotes eld
\end_inset

b
\begin_inset Quotes erd
\end_inset

 = 1,
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Black
\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
estado 
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
estado 
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
estado
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
estado 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
buzina = 1,
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
led vermelho = 1,
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
 led verde = 1,
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
led azul = 1,
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
senão 
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
senão 
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
senão
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
senão
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="center" valignment="top" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="center" valignment="top" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
estado 
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
estado 
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
estado 
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
estado
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
buzina = 0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
led vermelho = 0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
led verde = 0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
 led azul = 0
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
Fonte: Autora
\end_layout

\begin_layout Plain Layout
fonte: autora
\end_layout

\end_inset


\end_layout

\end_inset

Após definição da estrutura física e lógica da rede CAN, ela foi montada
 conforme apresentado na figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Rede-CAN-1"

\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Rede CAN
\begin_inset CommandInset label
LatexCommand label
name "fig:Rede-CAN-1"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename rede CAN montada.jpg
	scale 65

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
Fonte: Autora
\end_layout

\end_inset


\end_layout

\begin_layout Subsection
Configuração da 
\shape italic
Socketcand
\shape default
*
\end_layout

\begin_layout Standard
A 
\shape italic
Socketcand
\shape default
* é inicializada no protótipo a partir do comando:
\end_layout

\begin_layout Itemize

\shape italic
socketcand
\shape default
 [-v | --verbose] [-i interfaces | --interfaces] [-p porta | --porta] [-l
 IP | --interface para se ouvir]
\end_layout

\begin_layout Standard
Principais opções: 
\end_layout

\begin_layout Itemize
-v ativa 
\shape italic
verbose
\shape default
;
\end_layout

\begin_layout Itemize
-i lista de interfaces separada por vírgulas que a 
\shape italic
Socketcand
\shape default
* fornece acesso (por exemplo: -i can0,vcan1); 
\end_layout

\begin_layout Itemize
-p muda a porta que o servidor 
\shape italic
Socketcand
\shape default
* está ouvindo, (
\shape italic
default
\shape default
 29536);
\end_layout

\begin_layout Itemize
-l escolhe a interface para a conexão da 
\shape italic
Socketcand
\shape default
*, por exemplo eth0 ou usb0; 
\end_layout

\begin_layout Itemize
-n desativa o UDP 
\shape italic
broadcast
\shape default
 
\shape italic
beacon
\shape default
 para a porta 42000, que fornece informações sobre todas as redes CAN conectadas
 à 
\shape italic
Socketcand
\shape default
* (por exemplo vcan0 e can0) acessíveis pelo do servidor BCM.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Configuração da 
\shape italic
Socketcand
\shape default
*
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename socketcandLogin.jpg
	scale 80

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
Fonte: Autora
\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
A 
\shape italic
socketcand
\shape default
* tem por 
\shape italic
default
\shape default
 
\end_layout

\end_body
\end_document
